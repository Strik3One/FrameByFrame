<!DOCTYPE html>
<html>

<script>
var exports = {};
</script>

<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>UI Test</title>
    <link rel="stylesheet" type="text/css" href="../css/styles.css">
    <link rel="stylesheet" type="text/css" href="../css/all.min.css">
    <script src="../app/ui/src/ui.js"></script>
    <style>

        .header {
            height: 35px;
        }

        .content {
            height: 100%;
        }

        .content-wrapper {
            display: flex;
            flex: 1 1 auto;
            flex-direction: row;
        }

        .page-wrapper,
        .vertical-wrapper {
            display: flex;
            flex: 1 1 auto;
            flex-direction: column;
            font-family: Roboto, sans-serif;
        }

        .content-wrapper .content {
            flex: 1 1 auto;
            overflow: hidden;
        }

        .vertical-navBar {
            flex: 0 0 60px;
        }

        .sidebar {
            flex: 0 0 250px;
        }

        #viewport {
            flex: 1 1 auto;
        }

        #console {
            flex: 0 0 250px;
        }

        #myCanvas {
            position: absolute;
        }

        #step-controls {
            position: absolute;
            left: 50%;
            transform: translate(-50%, 0);
        }

    </style>
</head>

<body>
    <div class="full-page page-wrapper">
        <div class="header basico-navbar">
            <div class="basico-navbar-title">Basico Title</div>
            <div class="basico-tag">Basico Tag</div>
            <button class="basico-button">Basico Button</button>
            <div class="basico-button basico-small">Basico Button Small</div>
            <div class="basico-button basico-disabled">Basico Button Disabled</div>
            <div class="basico-button basico-seamless"><i class="fas fa-folder-open"></i></div>
            <div class="basico-dropdown">
                <button class="basico-dropdown-button">Dropdown</button>
                <div class="basico-dropdown-content">
                  <a href="#">Link 1</a>
                  <a href="#">Link 2</a>
                  <a href="#">Link 3</a>
                </div>
            </div>
        </div>
        <div class="basico-container basico-container-compact">
            <div class="basico-tabs">
                <div class="basico-tabs-item"><i class="fas fa-folder-open"></i></div>
                <div class="basico-tabs-item"><i class="fas fa-save"></i></div>
            </div>
        </div>
        <div class="header basico-navbar basico-navbar-compact">
            <div class="basico-navbar-title">Frame 1/100</div>
            <div class="basico-button-group" id="step-controls">
                <div class="basico-button basico-small"><i class="fas fa-backward"></i></div>
                <div class="basico-button basico-small"><i class="fas fa-step-backward"></i></div>
                <div class="basico-button basico-small"><i class="fas fa-play"></i></div>
                <div class="basico-button basico-small"><i class="fas fa-step-forward"></i></div>
                <div class="basico-button basico-small"><i class="fas fa-forward"></i></div>
            </div>
        </div>
        <div class="content-wrapper">
            <div class="vertical-navBar basico-container basico-container-compact">
                <div class="basico-tabs basico-vertical-tabs" id="control-tabs">
                    <div class="basico-tabs-item basico-tabs-selected">Entities</div>
                    <div class="basico-tabs-item">Vars</div>
                    <div class="basico-tabs-item">Connections</div>
                    <div class="basico-tabs-item">Settings</div>
                </div>
            </div>
            <div class="sidebar basico-container basico-container-compact" id="entity-list">
                <div class="basico-title basico-title-compact">Title</div>
                <div class="basico-list basico-list-compact">
                        <div class="basico-list-item">
                            <div class="basico-tag">Basico Tag</div>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                        </div>
                        <div class="basico-list-item">
                            <div class="basico-tag">Basico Tag</div>
                            Basico List Item</div>
                        <div class="basico-list-item">
                            <div class="basico-tag">Basico Tag</div>
                            <div class="basico-text-oneline">VeryLongNameWithoutSpacesAtAll</div>
                        </div>
                        <div class="basico-list-item">Basico List Item</div>
                        <div class="basico-list-item">Basico List Item</div>
                        <div class="basico-list-item">Basico List Item</div>
                        <div class="basico-list-item">Basico List Item</div>
                        <div class="basico-list-item">Basico List Item</div>
                        <div class="basico-list-item">Basico List Item</div>
                </div>
                <div class="basico-list">
                        <div class="basico-list-item">
                            Basico List Item
                        </div>
                        <div class="basico-list-item">
                            Basico List Item</div>
                        <div class="basico-list-item">
                            <div class="basico-tag">Basico Tag</div>
                            <div class="basico-text-oneline">VeryLongNameWithoutSpacesAtAll</div>
                        </div>
                        <div class="basico-list-item">Basico List Item</div>
                        <div class="basico-list-item">Basico List Item</div>
                        <div class="basico-list-item">Basico List Item</div>
                        <div class="basico-list-item">Basico List Item</div>
                        <div class="basico-list-item">Basico List Item</div>
                        <div class="basico-list-item">Basico List Item</div>
                </div>
            </div>
            <div class="sidebar basico-container basico-container-compact" id="cvar-list">
                <div class="basico-list">
                        <div class="basico-list-item">Ragdolls</div>
                        <div class="basico-list-item">
                            <label class="basico-toggle">
                                <input type="checkbox" checked>
                                <span class="slider round"></span>
                            </label>
                            <div class="basico-text-oneline">Colliders</div>
                        </div>
                        <div class="basico-list-item">
                            <div class="basico-tag">Basico Tag</div>
                            <div class="basico-text-oneline">Navigation</div>
                        </div>
                        <div class="basico-list-item">Damage Handling</div>
                </div>
            </div>
            <div class="sidebar basico-container basico-container-compact" id="recent-list">
                <div class="basico-title basico-title-compact">Connections</div>
                <div class="basico-container">
                    <div class="basico-card">
                        <div class="basico-card-element">
                            <div class="basico-form">
                                <div class="basico-form-field">
                                    <div class="basico-form-field-label">Address:</div>
                                    <input type="text" class="basico-input" value="localhost">
                                </div>
                                <div class="basico-form-field">
                                    <div class="basico-form-field-label">Port:</div>
                                    <input type="text" class="basico-input" value="23001">
                                </div>
                                <div class="basico-form-field">
                                    <div class="basico-button basico-small">Add new connection</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="basico-container">
                    <div class="basico-title basico-title-compact">locahlhost:23001</div>
                    <div class="basico-card">
                        <div class="basico-list basico-list-compact">
                            <div class="basico-list-item">Status<div class="basico-tag">Connected</div></div>
                        </div>
                        <div class="basico-card-footer">
                            <div class="basico-button-group">
                                <div class="basico-button basico-small">Disconnect</div>
                                <div class="basico-button basico-small">Remove connection</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                <div class="sidebar basico-container basico-container-compact" id="setting-list">
                    <div class="basico-list">
                            <div class="basico-list-item">Setting 1</div>
                            <div class="basico-list-item">Setting 2</div>
                            <div class="basico-list-item">Setting 3</div>
                    </div>
                </div>
            <div class="content vertical-wrapper">
                <div id="viewport">
                    <canvas id="myCanvas" width="200" height="100" style="background: #454545;"></canvas>
                </div>
                <div id="console" class="basico-footer">
                    <div class="basico-tabs">
                        <div class="basico-tabs-item">Tab 1</div>
                        <div class="basico-tabs-item basico-tabs-selected">Tab 2</div>
                        <div class="basico-tabs-item">Tab 3</div>
                        <div class="basico-tabs-item">Tab 4</div>
                        <div class="basico-tabs-item">Tab 5</div>
                        <div class="basico-tabs-item">Tab 6</div>
                        <div class="basico-tabs-item basico-tabs-divider"></div>
                        <div class="basico-tabs-group-right">
                            <div class="basico-tabs-item">
                                <div class="basico-form-field">
                                    <input type="text" placeholder="Find..." class="basico-input" value="">
                                </div>
                            </div>
                            <div class="basico-tabs-item"><i class="fas fa-ban"></i></div>
                        </div>
                    </div>
                    <div>
                        <div class="basico-container basico-container-compact">
                            <div class="basico-console-block">
                                <div class="basico-console-line"><i class="basico-console-icon fas fa-angle-right"></i>5 references found:</div>
                                <div class="basico-console-line"><i class="basico-console-icon fas fa-angle-right"></i>Value changed in <span class="basico-console-link">frame 55</span></div>
                            </div>
                            <div class="basico-console-block">
                                <div class="basico-console-line"><i class="basico-console-icon fas fa-angle-right"></i>5 references found:</div>
                                <div class="basico-console-line"><i class="basico-console-icon fas fa-angle-right"></i>Value changed in <span class="basico-console-link">frame 55</span></div>
                            </div>
                            <div class="basico-console-block basico-error">
                                <div class="basico-console-line"><i class="basico-console-icon fas fa-times-circle"></i>Error: [1, 2, 3, 4, 5]<div class="basico-tag">ERROR</div></div>
                            </div>
                            <div class="basico-console-block">
                                <div class="basico-console-line"><i class="basico-console-icon fas fa-angle-right"></i>5 references found:</div>
                                <div class="basico-console-line"><i class="basico-console-icon fas fa-angle-right"></i>Value changed in <span class="basico-console-link">frame 55</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sidebar basico-container">
                <div class="basico-card" id="cardToClone">
                        <div class="basico-card-header">Basico Card Header</div>
                        <div class="basico-card-image"><img style="width: 250px;" src ="https://images.pexels.com/photos/814499/pexels-photo-814499.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"></img></div>
                        <div class="basico-card-element">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</div>
                        <div class="basico-card-divider"></div>
                        <div class="basico-card-element">Basico Card Element</div>
                        <div class="basico-card-interactive">Basico Card Interactive</div>
                        <div class="basico-card-footer">Basico Card Footer</div>
                </div>
                <div class="basico-card">
                        <div class="basico-card-header">Basico Header<div class="basico-tag">Basico Tag</div></div>
                        <div class="basico-card-element">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</div>
                        <div class="basico-card-element">Basico Card Element</div>
                        <div class="basico-card-footer">
                            <div class="basico-button-group">
                                <div class="basico-button basico-disabled" id="removeCardBtn">Button</div>
                                <div class="basico-button" id="createCardBtn" onclick="createNewCard()">Button</div>
                            </div>
                        </div>
                </div>
                <div class="basico-tree" id="basico-tree-example">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        var resizeObserver = new ResizeObserver(entries => {
            document.getElementById('myCanvas').width = entries[0].contentRect.width;
            document.getElementById('myCanvas').height = entries[0].contentRect.height;
            document.getElementById('myCanvas').style.left = entries[0].target.offsetLeft + "px";
        });
        resizeObserver.observe(document.getElementById('viewport'));

        // Select from list
        var listItems = document.getElementsByClassName("basico-list");
        var i;

        for (i = 0; i < listItems.length; i++) {
            var listControl = new ListControl(listItems[i], function(element) {
                console.log(element);
            });
        }

        // Create tree
        var treeParent = document.getElementById('basico-tree-example');
        var treeControl = new TreeControl(treeParent);

        var nav = treeControl.addItem(treeControl.root, "Navigation", false, 0);
        var targetData = treeControl.addItem(nav, "Target Data", true, 1);
        treeControl.addItem(targetData, "Position: 50 150 32", true, 2);
        treeControl.addItem(targetData, "Distance: 12", true, 3);

        // Create new card
        function createNewCard()
        {
            var dupNode = document.getElementById("cardToClone").cloneNode(true);
            dupNode.classList.add("popout");
            dupNode.id = "cardToRemove";

            document.getElementById("createCardBtn").classList.add("basico-disabled");
            document.getElementById("createCardBtn").onclick = null;
            document.getElementById("removeCardBtn").classList.remove("basico-disabled");
            document.getElementById("removeCardBtn").onclick = function() { removeNewCard(); };

            document.getElementById("cardToClone").parentElement.appendChild(dupNode);
        }

        function removeNewCard()
        {
            var dupNode = document.getElementById("cardToRemove");
            dupNode.parentNode.removeChild(dupNode);

            document.getElementById("createCardBtn").classList.remove("basico-disabled");
            document.getElementById("createCardBtn").onclick = function() { createNewCard(); };
            document.getElementById("removeCardBtn").classList.add("basico-disabled");
            document.getElementById("removeCardBtn").onclick = null;
        }

        // Create tab control
        var controlTabs = new TabControl(
            document.getElementById("control-tabs").children,
            [
                document.getElementById("entity-list"), 
                document.getElementById("cvar-list"),
                document.getElementById("recent-list"),
                document.getElementById("setting-list")
            ]
        );

    </script>
    
</body>

</html>